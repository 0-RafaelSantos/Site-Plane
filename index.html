<!DOCTYPE html>
<html lang="pt-PT">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Landing Page - Aero Mode</title>

  <link rel="stylesheet" href="css/styles.css">

  <!-- FONT AWESOME -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <!-- THREE.JS -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.min.js"></script>
  <script type="importmap">
  {
    "imports": {
      "three": "https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.module.js",
      "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.158.0/examples/jsm/"
    }
  }
</script>
</head>

<body>

  <header class="main-header">
  <nav class="nav-left">
    <a href="#expedicoes">Expedições</a>
    <a href="#frota">Frota</a>
    <a href="#reservar">Reservar</a>
  </nav>

  <div class="logo">Rafael Santos</div>

  <nav class="nav-right">
    <a href="#destinos">Destinos</a>
    <a href="#clube">VIP Club</a>
    <a href="#contacto">Contacto</a>
  </nav>
</header>

  <div class="side-branding left">
    <h1>WE ARE</h1>
    <h1>MOVEMENT</h1>
  </div>

  <div class="side-branding right">
      <h1>WE ARE</h1>
      <h1>DISTINCTION</h1>
  </div>

  <div class="scene">
    <div class="title-flight" id="bg-title">TAKE OFF</div>

    <div class="window" id="main-window">
      
      <div class="window-glow"></div>

      <div class="window-frame">
        <div class="inner-frame"></div>
        <div class="window-shade" id="airplane-shade"></div>
        <div class="view">
          <video autoplay muted loop playsinline>
            <source src="Video_nuvens.mp4" type="video/mp4">
          </video>
        </div>
        <div class="glass-overlay"></div>
      </div>

      <div class="content-overlay" id="window-text">
        <span class="scroll-hint">SCROLL TO ENTER</span>
      </div>
    </div>

    <div class="plane-container" id="plane">
      <canvas id="plane-canvas"></canvas>
    </div>

    <div id="destinations-info" class="destinations-text">
      <div class="dest-item" data-step="0.5">MALDIVAS</div>
      <div class="dest-item" data-step="0.7">TÓQUIO</div>
      <div class="dest-item" data-step="0.9">AMESTERDAO</div>
    </div>
  </div>

  </div>

  <!-- Modal Form -->
  <div id="locationModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Add New Destination</h2>
        <span class="close" id="closeModal">&times;</span>
      </div>
      <form id="locationForm">
        <div class="form-group">
          <label>Search Type</label>
          <div class="search-type-toggle">
            <label class="radio-label">
              <input type="radio" name="searchType" value="coordinates" checked>
              <span>By Coordinates</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="searchType" value="city">
              <span>By City Name</span>
            </label>
          </div>
        </div>
        
        <div class="form-group coordinates-group">
          <label for="locationName">Destination Name</label>
          <input type="text" id="locationName" name="locationName" required>
        </div>
        
        <div class="coordinates-fields">
          <div class="form-group">
            <label for="latitude">Latitude</label>
            <input type="number" id="latitude" name="latitude" step="0.000001" required>
          </div>
          <div class="form-group">
            <label for="longitude">Longitude</label>
            <input type="number" id="longitude" name="longitude" step="0.000001" required>
          </div>
        </div>
        
        <div class="form-group city-group" style="display: none;">
          <label for="citySearch">City Search</label>
          <div class="city-search-container">
            <input type="text" id="citySearch" name="citySearch" placeholder="Start typing city name..." autocomplete="off">
            <div class="city-dropdown" id="cityDropdown"></div>
          </div>
        </div>
        
        <div class="form-group">
          <label for="description">Description</label>
          <textarea id="description" name="description" rows="3"></textarea>
        </div>
        <div class="form-group">
          <label for="category">Category</label>
          <select id="category" name="category">
            <option value="beach">Beach</option>
            <option value="mountain">Mountain</option>
            <option value="city">City</option>
            <option value="adventure">Adventure</option>
            <option value="cultural">Cultural</option>
          </select>
        </div>
        <div class="form-buttons">
          <button type="button" class="btn-cancel" id="cancelBtn">Cancel</button>
          <button type="submit" class="btn-submit">Add Destination</button>
        </div>
      </form>
    </div>
  </div>

  <!-- JS -->
  <script type="module" src="js/main.js"></script>
  <script src="js/modal.js"></script>
  
  <!-- Debug button (remover em produção) -->
  <script>
    // Adicionar botão de debug para ver localizações
    document.addEventListener('keydown', function(e) {
      // Pressionar Ctrl+L para ver todas as localizações
      if (e.ctrlKey && e.key === 'l') {
        e.preventDefault();
        if (window.viewAllLocations) {
          window.viewAllLocations();
        }
      }
      // Pressionar Ctrl+C para limpar todos os pinos
      if (e.ctrlKey && e.key === 'c') {
        e.preventDefault();
        if (window.clearAllPins) {
          window.clearAllPins();
          console.log('All pins cleared from globe');
        }
      }
    });
    console.log('Debug commands: Ctrl+L (view locations), Ctrl+C (clear pins)');
  </script>
</body>
</html>
